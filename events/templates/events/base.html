{% load static %}
<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}Event Management{% endblock %}</title>
  <link href="{% static 'css/output.css' %}" rel="stylesheet" />
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

  <nav class="bg-white shadow sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
      <div class="text-2xl font-bold text-rose-600">
        <a href="{% url 'public-home' %}">Event Management</a>
      </div>
      <div class="flex items-center space-x-4 text-sm">

        {% if user.is_authenticated %}

          {% if is_admin %}
            <a href="{% url 'admin-dashboard' %}" class="hover:text-rose-600">Dashboard</a>
            <a href="{% url 'group-list' %}" class="hover:text-rose-600">Groups</a>
            <a href="{% url 'category-list' %}" class="hover:text-rose-600">Categories</a>
            <a href="{% url 'event-list' %}" class="hover:text-rose-600">Events</a>
            <a href="{% url 'user-list' %}" class="hover:text-rose-600">Users</a>
          {% elif is_organizer %}
            <a href="{% url 'organizer-dashboard' %}" class="hover:text-rose-600">Dashboard</a>
            <a href="{% url 'event-list' %}" class="hover:text-rose-600">Event</a>
            <a href="{% url 'category-list' %}" class="hover:text-rose-600">Categories</a>
            <a href="{% url 'participant-list' %}" class="hover:text-rose-600">Participants</a>
          {% elif is_participant %}
            <a href="{% url 'participant-dashboard' %}" class="hover:text-rose-600">Dashboard</a>
            <a href="{% url 'event-list' %}" class="hover:text-rose-600">All Events</a>
            <a href="{% url 'participant-participants-list' %}" class="hover:text-rose-600">Participants</a>
          {% endif %}

          <div class="relative inline-block text-left">
            <input type="checkbox" id="user-menu-toggle" class="hidden peer" />
            <label for="user-menu-toggle" class="cursor-pointer flex items-center space-x-2 focus:outline-none select-none">
              {% if request.user.profile.image %}
                <img src="{{ request.user.profile.image.url }}" alt="Profile" class="w-10 h-10 rounded-full border-2 border-rose-500 object-cover" />
              {% else %}
                <div class="w-10 h-10 rounded-full bg-rose-200 text-rose-800 flex items-center justify-center font-bold">
                  {{ request.user.username|first|upper }}
                </div>
              {% endif %}
            </label>

            <div
              class="origin-top-right absolute right-0 mt-2 w-40 rounded-md shadow-md bg-white ring-1 ring-black ring-opacity-5
                     opacity-0 invisible peer-checked:visible peer-checked:opacity-100
                     transition-opacity duration-200 z-50"
            >
              <a href="{% url 'profile' %}" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Profile</a>
              <form method="post" action="{% url 'logout' %}">
                {% csrf_token %}
                <button type="submit" class="w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100">Logout</button>
              </form>
            </div>
          </div>

        {% else %}
          <a href="{% url 'login' %}" class="inline-block bg-rose-600 text-white px-5 py-2 rounded-full text-md font-semibold hover:bg-rose-700 transition">Login</a>
          <a href="{% url 'signup' %}" class="inline-block ml-4 bg-white text-rose-600 border border-rose-600 px-5 py-2 rounded-full text-md font-semibold hover:bg-rose-50 transition">Sign Up</a>
        {% endif %}
      </div>
    </div>
  </nav>

  {% block content %}
  {% endblock %}

  <footer class="bg-rose-600 text-center py-4 shadow-inner mt-auto">
    <p class="text-white text-sm">Â© 2025 Event Management System</p>
  </footer>

</body>
</html>